import scrapy
import json
import csv
from scrapy.spiders import Spider
from scrapy.http import FormRequest
from scrapy.http import Request
from scrapy.selector import HtmlXPathSelector
from chainxy.items import ChainItem
import pdb
import unicodedata

class ShopaaronsSpider(scrapy.Spider):
		name = "shopaarons"
		uid_list = []
		start_urls = ['https://www.shopaarons.ca/storelocator.aspx']
		count = 0
		domain = "https://www.shopaarons.ca/"

		def parse(self, response):
			states = response.xpath('//area[contains(@onclick, "ctl00$PageContent$CanadaMap")]/@onclick').extract()
			for state in states:
				try:
					state_value = state.split(",'")[-1].split("'")[0]
					url = "https://www.shopaarons.ca/storelocator.aspx"
					form_data = {
						"__EVENTTARGET":"ctl00$PageContent$CanadaMap",
						"__EVENTARGUMENT":state_value,
						"__VIEWSTATE":"/wEPDwULLTExODEwNzQ0MzEPZBYCZg9kFgQCAQ9kFghmD2QWAmYPFgIeBFRleHQFNzxtZXRhIGNvbnRlbnQ9IklFPWVkZ2UiIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgLz5kAgQPFgIeB2NvbnRlbnQFyAJWaXNpdCB0aGUgU3RvcmUgTG9jYXRvciBQYWdlIGF0IEFhcm9ucy5jb20uIEFhcm9u4oCZcyBpcyB5b3VyIHRydXN0ZWQgc291cmNlIGZvciBxdWFsaXR5IGxlYXNlIHRvIG93biBmdXJuaXR1cmUsIGVsZWN0cm9uaWNzICYgYXBwbGlhbmNlcyBhdCBndWFyYW50ZWVkIGxvdyBwcmljZXMuIFNob3AgYXQgeW91ciBuZWFyZXN0IEFhcm9u4oCZcyBzdG9yZSBsb2NhdGlvbiBvciB2aWV3IG91ciBsZWFzZS10by1vd24gcHJvZHVjdHMsIGluY2x1ZGluZyBkaW5pbmcgcm9vbSB0YWJsZXMsIFRWcywgdGFibGV0cywgY29tcHV0ZXJzICYgbW9yZSwgb25saW5lIGF0IEFhcm9ucy5jb20uZAIFDxYCHwEFXVN0b3JlIExvY2F0b3IsIGFhcm9ucywgYWFyb27igJlzIHJlbnRhbCwgbGVhc2UsIG93biwgbGVhc2UtdG8tb3duLCBBYXJvbnMuY29tLCByZXRhaWwsIHN0b3Jlc2QCDA9kFgJmDxYCHwAFgR88c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KICAgIC5oZWFkZXJEaXYgI2hlYWRlckRpdl9yaWdodCAjaGVhZGVyRGl2X3JpZ2h0X3RvcCAubG9jYXRpb25GaW5kZXIgew0KICAgIGRpc3BsYXk6IG5vbmU7DQogICAgfQ0KICAgIC5yaWdodENvbERpdi5wcm9kdWN0RGV0YWlsV3JhcCA+IGRpdi5wcm9kdWN0RGV0YWlsRGl2ID4gZGl2LnByb2R1Y3REZXNjRGl2ID4gZGl2LnByb2R1Y3REZXNjRGl2VG9wID4gZGl2LmFkZFRvQ2FydEZvcm0gPiBpbnB1dC5BZGRUb0NhcnRCdXR0b24gew0KICAgIHBhZGRpbmc6IDIzcHggMjBweCAyMHB4IDIwcHg7DQogICAgYmFja2dyb3VuZDogIzRlYmE0ZTsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOw0KICAgIG1pbi13aWR0aDogMjg1cHg7DQogICAgfQ0KICAgIC5wYWdlQ29udGVudERpdiAucmlnaHRDb2xEaXYgLnByb2R1Y3REZXRhaWxEaXYgLnByb2R1Y3REZXNjRGl2IC5teUxvY2F0aW9uV3JhcCB7DQogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Ow0KICAgIH0NCiAgICAjbG9jYXRpb25GaW5kZXJQb3BVcCB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgICB9DQogICAgLmZvb3RlckRpdiAuY29weXdyaXRlRGl2IC5jb3B5V3JpdGVEaXYtd3JhcHBlciAucmVzcG9uc2l2ZUxvY2F0aW9uRmluZGVyIHsNCiAgICBkaXNwbGF5OiBub25lOw0KICAgIH0NCiAgICAuaGVhZGVyRGl2ICNoZWFkZXJEaXZfcmlnaHQgI2hlYWRlckRpdl9yaWdodF90b3Agew0KICAgIGZsb2F0OiByaWdodCAhaW1wb3J0YW50Ow0KICAgIG1heC13aWR0aDogNDUwcHggIWltcG9ydGFudDsNCiAgICB9DQo8L3N0eWxlPg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KICAgICQoZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciBleHBpcmVEYXRlID0gbmV3IERhdGUoKTsNCiAgICAgICAgZXhwaXJlRGF0ZS5zZXRUaW1lKGV4cGlyZURhdGUuZ2V0VGltZSgpICsgKDYwICogNjAgKiAxMDAwICogMjQpKTsNCg0KICAgICAgICBpZiAodHlwZW9mICQuY29va2llKCdjbG9zZWRMb2NQb3B1cCcpID09PSAndW5kZWZpbmVkJykgJC5jb29raWUoImNsb3NlZExvY1BvcHVwIiwgInRydWUiLCB7DQogICAgICAgICAgICBwYXRoOiAiLyIsDQogICAgICAgICAgICBleHBpcmVzOiBleHBpcmVEYXRlDQogICAgICAgIH0pOw0KICAgICAgICBpZiAodHlwZW9mICQuY29va2llKCdteVppcCcpID09PSAndW5kZWZpbmVkJykgJC5jb29raWUoIm15WmlwIiwgIjAwMDAwIiwgew0KICAgICAgICAgICAgcGF0aDogIi8iLA0KICAgICAgICAgICAgZXhwaXJlczogZXhwaXJlRGF0ZQ0KICAgICAgICB9KTsNCiAgICAgICAgaWYgKHR5cGVvZiAkLmNvb2tpZSgnbXlTdGF0ZScpID09PSAndW5kZWZpbmVkJykgJC5jb29raWUoIm15U3RhdGUiLCAiTkEiLCB7DQogICAgICAgICAgICBwYXRoOiAiLyIsDQogICAgICAgICAgICBleHBpcmVzOiBleHBpcmVEYXRlDQogICAgICAgIH0pOw0KICAgICAgICBpZiAodHlwZW9mICQuY29va2llKCdteVN0b3JlJykgPT09ICd1bmRlZmluZWQnKSAkLmNvb2tpZSgibXlTdG9yZSIsICIwMDAwMCIsIHsNCiAgICAgICAgICAgIHBhdGg6ICIvIiwNCiAgICAgICAgICAgIGV4cGlyZXM6IGV4cGlyZURhdGUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImNoZWNrb3V0MS5hc3B4IikgPiAtMSkgew0KICAgICAgICAgICAgJCgiLmJ0blRvcENvbnRpbnVlLC5idG5Cb3R0b21Db250aW51ZSIpLmNsaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHZhciBjb250YWN0WmlwID0gJCgiI2N0bDAwX1BhZ2VDb250ZW50X3R4dFppcGNvZGUiKS52YWwoKTsNCiAgICAgICAgICAgICAgICBpZiAoaXNaaXBDb2RlKGNvbnRhY3RaaXApKSAkLmNvb2tpZSgibXlaaXAiLCBjb250YWN0WmlwLCB7DQogICAgICAgICAgICAgICAgICAgIHBhdGg6ICIvIiwNCiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogZXhwaXJlRGF0ZQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiY2hlY2tvdXRyZXZpZXcuYXNweCIpID4gLTEpIHsNCiAgICAgICAgICAgIHZhciBjb250YWN0WmlwID0gJC5jb29raWUoIm15WmlwIik7DQogICAgICAgICAgICBpZiAoaXNaaXBDb2RlKGNvbnRhY3RaaXApKSB7DQogICAgICAgICAgICAgICAgJC5hamF4KHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICAgICAgICAgICAgICB1cmw6ICIvTG9jYXRpb25GaW5kZXIuYXNteC9HZXQzQ2xvc2VzdFN0b3JlcyIsDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsDQogICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6ICJ7XCJwb3N0YWxjb2RlXCI6XCIiICsgY29udGFjdFppcCArICJcIn0iLA0KICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihtc2cpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uT2JqZWN0ID0gSlNPTi5wYXJzZShnZXRNYWluKG1zZykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0l0TnVsbChqc29uT2JqZWN0WzBdKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNJdE51bGwoanNvbk9iamVjdFswXS5lbnQpICYmICFpc0l0TnVsbChqc29uT2JqZWN0WzBdLlN0YXRlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmNvb2tpZSgibXlTdG9yZSIsIGpzb25PYmplY3RbMF0uZW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5jb29raWUoInByZWZTdHIiLCBqc29uT2JqZWN0WzBdLmVudCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuY29va2llKCJteVN0YXRlIiwganNvbk9iamVjdFswXS5TdGF0ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7fQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCQoIiNjaGtFbWFpbE9wdEluIikubGVuZ3RoKSAkKCIjY2hrRW1haWxPcHRJbiIpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7DQogICAgICAgIGlmICgkKCIuZW1haWxMaXN0T3B0aW5Gb3JtIHNlbGVjdCNjb3VudHJ5IikubGVuZ3RoKSAkKCcuZW1haWxMaXN0T3B0aW5Gb3JtIHNlbGVjdCNjb3VudHJ5IG9wdGlvblt2YWx1ZT0iQ2FuYWRhIl0nKS5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOw0KICAgICAgICANCg0KLy9UaGlzIGlzIHRoZSBzdWJuYXYgYmFubmVyIGNvZGUgYmVsb3cgICAgICAgDQovKg0KICAgICAgICAkKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIC8vc2VuZCB0cmFja2luZyBjb2RlIHRvIGdvb2dsZQ0KICAgICAgICAgICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ3N1Ym5hdmJhbm5lcicsICdpbXByZXNzaW9uJywgJ1VSTCcpOw0KICAgICAgICAgICAgICAgIC8vYWRkIHN1Ym5hdiBiYW5uZXIgdG8gdGhlIG1haW5NZW51RGl2DQogICAgICAgICAgICAgICAgJCgiLm1haW5NZW51RGl2IikuYWZ0ZXIoJzxhIGhyZWY9Ii9jLTIxLW1hdHRyZXNzZXMuYXNweCIgY2xhc3M9InByb21vLWJhbm5lciIgc3R5bGU9ImJhY2tncm91bmQtY29sb3IgOiAjMTk0NThDOyIgPjxpbWcgaWQ9InN1Ym5hdmJhbm5lciIgc3JjPSIvaW1hZ2VzL3Byb21vcy9iZWRkaW5nLXNwZWN0YWN1bGFyL0Fhcm9uc19BQUJfU3ViTmF2Q0EuanBnIiBhbHQ9IkJlZGRpbmcgU3BlY3RhY3VsYXIiICAvPjwvYT4nKTsNCiAgICAgICAgfSk7DQoqLw0KICAgIH0pOw0KDQo8L3NjcmlwdD5kAgcPZBYaAgEPZBYCZg8WAh8ABYwRPHNjcmlwdCBzcmM9Ii8vcGxhdGZvcm0udHdpdHRlci5jb20vb2N0LmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pg0KPG5vc2NyaXB0PjxpZnJhbWUgc3JjPSIvL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ucy5odG1sP2lkPUdUTS1XRkc4UDIiDQpoZWlnaHQ9IjAiIHdpZHRoPSIwIiBzdHlsZT0iZGlzcGxheTpub25lO3Zpc2liaWxpdHk6aGlkZGVuIj48L2lmcmFtZT48L25vc2NyaXB0Pg0KPHNjcmlwdD4oZnVuY3Rpb24odyxkLHMsbCxpKXt3W2xdPXdbbF18fFtdO3dbbF0ucHVzaCh7J2d0bS5zdGFydCc6DQogICAgbmV3IERhdGUoKS5nZXRUaW1lKCksZXZlbnQ6J2d0bS5qcyd9KTt2YXIgZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKHMpWzBdLA0KICAgIGo9ZC5jcmVhdGVFbGVtZW50KHMpLGRsPWwhPSdkYXRhTGF5ZXInPycmbD0nK2w6Jyc7ai5hc3luYz10cnVlO2ouc3JjPQ0KICAgICcvL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndG0uanM/aWQ9JytpK2RsO2YucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaixmKTsNCiAgICB9KSh3aW5kb3csZG9jdW1lbnQsJ3NjcmlwdCcsJ2RhdGFMYXllcicsJ0dUTS1XRkc4UDInKTs8L3NjcmlwdD4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCndpbmRvdy5mYkFzeW5jSW5pdCA9IGZ1bmN0aW9uICgpIHsNCglGQi5pbml0KHsNCgkJYXBwSWQ6ICcyNjYyNjc5ODAwOTU4MjknLCAvLyBBcHAgSUQNCgkJY2hhbm5lbFVybDogJy8vd3d3LmFhcm9ucy5jb20vY2hhbm5lbC5odG1sJywgLy8gQ2hhbm5lbCBGaWxlDQoJCXN0YXR1czogdHJ1ZSwgLy8gY2hlY2sgbG9naW4gc3RhdHVzDQoJCWNvb2tpZTogdHJ1ZSwgLy8gZW5hYmxlIGNvb2tpZXMgdG8gYWxsb3cgdGhlIHNlcnZlciB0byBhY2Nlc3MgdGhlIHNlc3Npb24NCgkJeGZibWw6IHRydWUgIC8vIHBhcnNlIFhGQk1MDQoJfSk7DQoNCgkvLyBBZGRpdGlvbmFsIGluaXRpYWxpemF0aW9uIGNvZGUgaGVyZQ0KCUZCLkV2ZW50LnN1YnNjcmliZSgnZWRnZS5jcmVhdGUnLCBmdW5jdGlvbiAodGFyZ2V0VXJsKSB7DQoJCV9nYXEucHVzaChbJ190cmFja1NvY2lhbCcsICdmYWNlYm9vaycsICdsaWtlJywgdGFyZ2V0VXJsXSk7DQoJfSk7DQoNCglGQi5FdmVudC5zdWJzY3JpYmUoJ2VkZ2UucmVtb3ZlJywgZnVuY3Rpb24gKHRhcmdldFVybCkgew0KCQlfZ2FxLnB1c2goWydfdHJhY2tTb2NpYWwnLCAnZmFjZWJvb2snLCAndW5saWtlJywgdGFyZ2V0VXJsXSk7DQoJfSk7DQoNCglGQi5FdmVudC5zdWJzY3JpYmUoJ21lc3NhZ2Uuc2VuZCcsIGZ1bmN0aW9uICh0YXJnZXRVcmwpIHsNCgkJX2dhcS5wdXNoKFsnX3RyYWNrU29jaWFsJywgJ2ZhY2Vib29rJywgJ3NlbmQnLCB0YXJnZXRVcmxdKTsNCgl9KTsNCn07DQoNCi8vIExvYWQgdGhlIFNESyBBc3luY2hyb25vdXNseQ0KKGZ1bmN0aW9uIChkKSB7DQoJdmFyIGpzLCBpZCA9ICdmYWNlYm9vay1qc3NkaycsIHJlZiA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOw0KCWlmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkgeyByZXR1cm47IH0NCglqcyA9IGQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IGpzLmlkID0gaWQ7IGpzLmFzeW5jID0gdHJ1ZTsNCglqcy5zcmMgPSAiLy9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9hbGwuanMiOw0KCXJlZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcywgcmVmKTsNCn0gKGRvY3VtZW50KSk7DQp2YXIgX2dhcSA9IF9nYXEgfHwgW107DQpfZ2FxLnB1c2goWydfc2V0QWNjb3VudCcsICdVQS00Njk5MzM3LTEnXSk7DQpfZ2FxLnB1c2goWydfc2V0RG9tYWluTmFtZScsICdhYXJvbnMuY29tJ10pOw0KX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnXSk7DQooZnVuY3Rpb24oKSB7DQp2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgZ2EudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBnYS5hc3luYyA9IHRydWU7DQpnYS5zcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly9zc2wnIDogJ2h0dHA6Ly93d3cnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnOw0KdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpOw0KfSkoKTsNCjwvc2NyaXB0PmQCAw9kFgJmDxYCHwAFtAM8YSBtcG9yZ25hdiBocmVmPSJodHRwczovL2ZyLnNob3BhYXJvbnMuY2EvIiBvbmNsaWNrPSJyZXR1cm4gc3dpdGNoTGFuZ3VhZ2UoJ2ZyJyk7ZnVuY3Rpb24gc3dpdGNoTGFuZ3VhZ2UobGFuZykge01QLlNyY1VybD11bmVzY2FwZSgnbXBfanNfb3JnaW5fdXJsJyk7TVAuVXJsTGFuZz0nbXBfanNfY3VycmVudF9sYW5nJztNUC5pbml0KCk7TVAuc3dpdGNoTGFuZ3VhZ2UoTVAuVXJsTGFuZz09bGFuZz8nZW4nOmxhbmcpO3JldHVybiBmYWxzZTt9IiBjbGFzcz0idHJhbnNsYXRlSW1hZ2UiPjxpbWcgc3JjPSIvQXBwX1RoZW1lcy9Ta2luXzEvaW1hZ2VzL21vYmlsZV9mcmFuY2Fpcy5wbmciIGFsdD0iRnJhbsOnYWlzIiAvPjwvYT48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvanNjcmlwdHMvbXAtdHJhbnNsYXRlLWZyLm1pbi5qcyI+PC9zY3JpcHQ+ZAIFD2QWCAIBDw9kFgIeDmFkZHRoaXM6dXNlcmlkBQlhYXJvbnNpbmNkAgMPD2QWAh8CBQlhYXJvbnNpbmNkAgUPD2QWAh8CBRp1LzAvMTA3OTc0MDA1NTQzOTQ5ODIxNzYzL2QCBw8PZBYCHwIFCWFhcm9uc2luY2QCBg9kFgJmDxYCHwAF2gI8YSBtcG9yZ25hdiBocmVmPSJodHRwOi8vZnIuc2hvcGFhcm9ucy5jYS8iIG9uY2xpY2s9InJldHVybiBzd2l0Y2hMYW5ndWFnZSgnZnInKTtmdW5jdGlvbiBzd2l0Y2hMYW5ndWFnZShsYW5nKSB7TVAuU3JjVXJsPXVuZXNjYXBlKCdtcF9qc19vcmdpbl91cmwnKTtNUC5VcmxMYW5nPSdtcF9qc19jdXJyZW50X2xhbmcnO01QLmluaXQoKTtNUC5zd2l0Y2hMYW5ndWFnZShNUC5VcmxMYW5nPT1sYW5nPydlbic6bGFuZyk7cmV0dXJuIGZhbHNlO30iPkZyYW7Dp2FpczwvYT48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvanNjcmlwdHMvbXAtdHJhbnNsYXRlLWZyLm1pbi5qcyI+PC9zY3JpcHQ+ZAIJD2QWAgIBDxYCHgtfIUl0ZW1Db3VudAIVFipmD2QWAgIBDxYCHgVjbGFzcwUVVG9wSXRlbUxvb2sgZnVybml0dXJlFgQCAQ8PFgQfAAUJRnVybml0dXJlHgtOYXZpZ2F0ZVVybAUTL2MtMS1mdXJuaXR1cmUuYXNweBYCHgdvbmNsaWNrZWQCAw8WAh8DAgYWDAIBD2QWAgIBDxYCHwQFDCBsaXZpbmctcm9vbRYCZg8PFgQfAAULTGl2aW5nIFJvb20fBQUWL2MtMzItbGl2aW5nLXJvb20uYXNweBYCHwZlZAICD2QWAgIBDxYCHwQFDCBkaW5pbmctcm9vbRYCZg8PFgQfAAULRGluaW5nIFJvb20fBQUWL2MtMjUtZGluaW5nLXJvb20uYXNweBYCHwZlZAIDD2QWAgIBDxYCHwQFCCBiZWRyb29tFgJmDw8WBB8ABQdCZWRyb29tHwUFEi9jLTIyLWJlZHJvb20uYXNweBYCHwZlZAIED2QWAgIBDxYCHwQFCCBiZWRkaW5nFgJmDw8WBB8ABQdCZWRkaW5nHwUFEi9jLTIxLWJlZGRpbmcuYXNweBYCHwZlZAIFD2QWAgIBDxYCHwQFFiBlbnRlcnRhaW5tZW50LWNlbnRlcnMWAmYPDxYEHwAFFUVudGVydGFpbm1lbnQgQ2VudGVycx8FBSAvYy0yNy1lbnRlcnRhaW5tZW50LWNlbnRlcnMuYXNweBYCHwZlZAIGD2QWAgIBDxYCHwQFDCBhY2Nlc3NvcmllcxYCZg8PFgQfAAULQWNjZXNzb3JpZXMfBQUWL2MtMjAtYWNjZXNzb3JpZXMuYXNweBYCHwZlZAIBD2QWAgIBDxYCHwQFF1RvcEl0ZW1Mb29rIGVsZWN0cm9uaWNzFgQCAQ8PFgQfAAULRWxlY3Ryb25pY3MfBQUVL2MtMi1lbGVjdHJvbmljcy5hc3B4FgIfBmVkAgMPFgIfAwIFFgoCAQ9kFgICAQ8WAh8EBQggbGFwdG9wcxYCZg8PFgQfAAUHTGFwdG9wcx8FBRIvYy0yOS1sYXB0b3BzLmFzcHgWAh8GZWQCAg9kFgICAQ8WAh8EBQggdGFibGV0cxYCZg8PFgQfAAUHVGFibGV0cx8FBRIvYy01MS10YWJsZXRzLmFzcHgWAh8GZWQCAw9kFgICAQ8WAh8EBQwgdGVsZXZpc2lvbnMWAmYPDxYEHwAFC1RlbGV2aXNpb25zHwUFFi9jLTM0LXRlbGV2aXNpb25zLmFzcHgWAh8GZWQCBA9kFgICAQ8WAh8EBQkgZGVza3RvcHMWAmYPDxYEHwAFCERlc2t0b3BzHwUFEy9jLTI0LWRlc2t0b3BzLmFzcHgWAh8GZWQCBQ9kFgICAQ8WAh8EBRIgb3RoZXItZWxlY3Ryb25pY3MWAmYPDxYEHwAFEU90aGVyIEVsZWN0cm9uaWNzHwUFHC9jLTMzLW90aGVyLWVsZWN0cm9uaWNzLmFzcHgWAh8GZWQCAg9kFgICAQ8WAh8EBRZUb3BJdGVtTG9vayBhcHBsaWFuY2VzFgQCAQ8PFgQfAAUKQXBwbGlhbmNlcx8FBRUvYy0xNC1hcHBsaWFuY2VzLmFzcHgWAh8GZWQCAw8WAh8DAgIWBAIBD2QWAgIBDxYCHwQFCCBraXRjaGVuFgJmDw8WBB8ABQdLaXRjaGVuHwUFEi9jLTI4LWtpdGNoZW4uYXNweBYCHwZlZAICD2QWAgIBDxYCHwQF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U0EgTWFwZGQCCw9kFgJmDxYCHwAF/RI8ZGl2IGNsYXNzPSJ2aWRlb3NNb2JpbGVDYWxsb3V0Ij48YSBocmVmPSIvdHYiPjxpbWcgc3JjPSIvQXBwX1RoZW1lcy9Ta2luXzEvaW1hZ2VzL2hvbWVwYWdlX3ZpZGVvcy1tb2JpbGUuanBnIiBhbHQ9IlZpZGVvcyIgLz48L2E+PC9kaXY+DQo8ZGl2IGNsYXNzPSJzaWdudXBGb3JTYXZpbmdzQ2FsbG91dCI+DQo8YSBocmVmPSIvdC1lbWFpbGxpc3QuYXNweCI+PGltZyBzcmM9Ii9pbWFnZXMvaG9tZXBhZ2Utc2lnbnVwLXRpbGUuanBnIiBhbHQ9IlNpZ251cCBmb3IgU2F2aW5ncyIgc3R5bGU9ImJvcmRlci1yYWRpdXM6IDRweDsiIC8+PC9hPg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJjaXJjdWxhckNhbGxvdXQiPg0KPGEgaHJlZj0iaHR0cDovL2Fhcm9ucy5zaG9wbG9jYWwuY29tLyIgdGFyZ2V0PSJfYmxhbmsiPg0KPHNwYW4gY2xhc3M9ImNpcmN1bGFyQ2FsbG91dFRpdGxlIj5Ccm93c2U8YnIgLz4NCk91ciBDaXJjdWxhcjwvc3Bhbj4NCjxpbWcgc3JjPSIvaW1hZ2VzL2hvbWVwYWdlX2NpcmN1bGFyLnBuZyIgYWx0PSJCcm93c2Ugb3VyIENpcmN1bGFyIiAvPg0KPC9hPg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJzdG9yZUxvY2F0b3JDYWxsb3V0Ij4NCjxkaXYgY2xhc3M9InN0b3JlTG9jYXRvckNhbGxvdXRGb3JtIj4NCjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic3RvcmVMb2NhdG9yQ2FsbG91dFppcCIgdmFsdWU9IlppcC9Qb3N0YWwgQ29kZSIgb25mb2N1cz0iaWYgKHRoaXMudmFsdWUgPT09ICdaaXAvUG9zdGFsIENvZGUnKSB0aGlzLnZhbHVlID0gJyc7IiBvbmJsdXI9ImlmICh0aGlzLnZhbHVlID09PSAnJykgdGhpcy52YWx1ZSA9ICdaaXAvUG9zdGFsIENvZGUnOyIgLz4NCjxkaXYgaWQ9InN0b3JlTG9jYXRvckNhbGxvdXRTdWJtaXQiIGNsYXNzPSJsaWdodEdyZWVuQnV0dG9uIGdyYWRpZW50Ij48aW1nIHNyYz0iL0FwcF9UaGVtZXMvU2tpbl8xL2ltYWdlcy9ob21lcGFnZV9zdG9yZWxvY2F0b3JhcnJvd2ljb24ucG5nIiBhbHQ9IlN1Ym1pdCIgLz48L2Rpdj4NCjwvZGl2Pg0KPC9kaXY+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KICAgIC5wYWdlQ29udGVudEZvb3RlckNhbGxvdXRzIC5zaWdudXBGb3JTYXZpbmdzQ2FsbG91dCB7DQogICAgYmFja2dyb3VuZDpub25lOw0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIGhlaWdodDogMTk4cHg7DQogICAgbWFyZ2luOiAwIDAgMTNweCAxM3B4Ow0KICAgIHdpZHRoOiBpbml0aWFsOw0KICAgIHBhZGRpbmc6IDA7DQogICAgfQ0KICAgIEBtZWRpYSAobWF4LXdpZHRoOjEwMjRweCl7DQogICAgLnBhZ2VDb250ZW50Rm9vdGVyQ2FsbG91dHMgLnNpZ251cEZvclNhdmluZ3NDYWxsb3V0IHsNCiAgICBmbG9hdDpub25lOw0KICAgIHRleHQtYWxpZ246Y2VudGVyOw0KICAgIH0NCiAgICB9DQogICAgLnBhZ2VDb250ZW50Rm9vdGVyQ2FsbG91dHMgLnNpZ251cEZvclNhdmluZ3NDYWxsb3V0IC5zaWdudXBGb3JTYXZpbmdzQ2FsbG91dEZvcm0gPiBpbnB1dCNzaWdudXBGb3JTYXZpbmdzQ2FsbG91dEVtYWlsIHsNCiAgICBtYXgtd2lkdGg6IDIzMHB4Ow0KICAgIH0NCiAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0MjVweCkgew0KICAgIC5wYWdlQ29udGVudEZvb3RlckNhbGxvdXRzIC5zaWdudXBGb3JTYXZpbmdzQ2FsbG91dCAuc2lnbnVwRm9yU2F2aW5nc0NhbGxvdXRGb3JtIHsNCiAgICBtYXJnaW46IDAgMCAzMHB4IDA7DQogICAgcGFkZGluZzogMDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgbWF4LXdpZHRoOiAxMDAlOw0KICAgIHdpZHRoOiAxMDAlOw0KICAgIH0NCiAgICAucGFnZUNvbnRlbnRGb290ZXJDYWxsb3V0cyAuc2lnbnVwRm9yU2F2aW5nc0NhbGxvdXQgLnNpZ251cEZvclNhdmluZ3NDYWxsb3V0Rm9ybSA+IGlucHV0I3NpZ251cEZvclNhdmluZ3NDYWxsb3V0RW1haWwgew0KICAgIG1heC13aWR0aDogNTUlOw0KICAgIGZsb2F0OiBub25lOw0KICAgIGxpbmUtaGVpZ2h0OiAxNXB4Ow0KICAgIGZvbnQtc2l6ZTogMTVweDsNCiAgICBtYXJnaW46IDA7DQogICAgfQ0KICAgIC5wYWdlQ29udGVudEZvb3RlckNhbGxvdXRzIC5zaWdudXBGb3JTYXZpbmdzQ2FsbG91dCAuc2lnbnVwRm9yU2F2aW5nc0NhbGxvdXRGb3JtID4gaW5wdXQjc2lnbnVwRm9yU2F2aW5nc0NhbGxvdXRTdWJtaXQgew0KICAgIGZsb2F0OiBub25lOw0KICAgIG1heC13aWR0aDogMTAwJTsNCiAgICBwYWRkaW5nOiAxMHB4Ow0KICAgIH0NCiAgICB9DQogICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMzIwcHgpIHsNCiAgICAucGFnZUNvbnRlbnRGb290ZXJDYWxsb3V0cyAuc2lnbnVwRm9yU2F2aW5nc0NhbGxvdXQgLnNpZ251cEZvclNhdmluZ3NDYWxsb3V0Rm9ybSA+IGlucHV0I3NpZ251cEZvclNhdmluZ3NDYWxsb3V0RW1haWwgew0KICAgIG1heC13aWR0aDogNDUlOw0KICAgIH0NCiAgICB9DQo8L3N0eWxlPmQCDA9kFgJmDxYCHwAFng08YSBocmVmPSIvbS0yLWRlbGwuYXNweCIgc3R5bGU9InBhZGRpbmc6IDBweCA0cHg7Ij48aW1nIHdpZHRoPSIyNyIgYWx0PSJEZWxsIiBzcmM9Ii9pbWFnZXMvdmVuZG9ycy9kZWxsLnBuZyIgLz48L2E+DQo8YSBocmVmPSIvbS0xMi1waGlsaXBzLmFzcHgiIHN0eWxlPSJwYWRkaW5nOiAwcHggNHB4OyI+PGltZyB3aWR0aD0iODgiIGhlaWdodD0iMTYiIGFsdD0iUGhpbGlwcyIgc3JjPSIvaW1hZ2VzL3ZlbmRvcnMvcGhpbGlwcy5wbmciIHN0eWxlPSJwYWRkaW5nOiAwcHggMHB4IDNweDsiIC8+PC9hPg0KPGEgaHJlZj0iL20tMTEtaHAuYXNweCIgc3R5bGU9InBhZGRpbmc6IDBweCA0cHg7Ij48aW1nIHdpZHRoPSIyMyIgaGVpZ2h0PSIyNCIgYWx0PSJIUCIgc3JjPSIvaW1hZ2VzL3ZlbmRvcnMvaHAucG5nIiAvPjwvYT4NCjxhIGhyZWY9Ii9tLTM5LXdoaXJscG9vbC5hc3B4IiBzdHlsZT0icGFkZGluZzogMHB4IDRweDsiPjxpbWcgd2lkdGg9IjYwIiBhbHQ9IldoaXJscG9vbCIgc3JjPSIvaW1hZ2VzL3ZlbmRvcnMvd2hpcmxwb29sLnBuZyIgLz48L2E+DQo8YSBocmVmPSIvbS00My1sZy5hc3B4IiBzdHlsZT0icGFkZGluZzogMHB4IDRweDsiPjxpbWcgd2lkdGg9IjQ5IiBoZWlnaHQ9IjIyIiBhbHQ9IkxHIiBzcmM9Ii9pbWFnZXMvdmVuZG9ycy9sZy5wbmciIC8+PC9hPg0KPGEgaHJlZj0iL20tNS1mcmlnaWRhaXJlLmFzcHgiIHN0eWxlPSJwYWRkaW5nOiAwcHggNHB4OyI+PGltZyB3aWR0aD0iOTgiIGhlaWdodD0iMTMiIGFsdD0iRnJpZ2lkYWlyZSIgc3JjPSIvaW1hZ2VzL3ZlbmRvcnMvZnJpZ2lkYWlyZS5wbmciIHN0eWxlPSJwYWRkaW5nOiAwcHggMHB4IDRweDsiIC8+PC9hPg0KPGEgaHJlZj0iL20tNDItZ2UuYXNweCIgc3R5bGU9InBhZGRpbmc6IDBweCA0cHg7Ij48aW1nIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgYWx0PSJHRSIgc3JjPSIvaW1hZ2VzL3ZlbmRvcnMvZ2UucG5nIiAvPjwvYT4NCjxhIGhyZWY9Ii9tLTYzLW1hZ25hdm94LmFzcHgiIHN0eWxlPSJwYWRkaW5nOiAwcHggNHB4OyI+PGltZyB3aWR0aD0iOTciIGhlaWdodD0iMTMiIGFsdD0iTWFnbmF2b3giIHNyYz0iL2ltYWdlcy92ZW5kb3JzL21hZ25hdm94LnBuZyIgc3R5bGU9InBhZGRpbmc6IDBweCAwcHggNHB4OyIgLz48L2E+DQo8YSBocmVmPSIvbS05LWp2Yy5hc3B4IiBzdHlsZT0icGFkZGluZzogMHB4IDRweDsiPjxpbWcgd2lkdGg9IjU1IiBhbHQ9IkpWQyIgc3JjPSIvaW1hZ2VzL3ZlbmRvcnMvanZjLnBuZyIgLz48L2E+DQo8YSBocmVmPSIvbS0xNi1zaW1tb25zLmFzcHgiIHN0eWxlPSJwYWRkaW5nOiAwcHggNHB4OyI+PGltZyB3aWR0aD0iNTUiIGFsdD0iU2ltbW9ucyIgc3JjPSIvaW1hZ2VzL3ZlbmRvcnMvYmVhdXR5cmVzdC5wbmciIC8+PC9hPg0KPGEgaHJlZj0iL20tNzMtYXNobGV5LmFzcHgiIHN0eWxlPSJwYWRkaW5nOiAwcHggNHB4OyI+PGltZyB3aWR0aD0iOTAiIGFsdD0iQXNobGV5IiBzcmM9Ii9pbWFnZXMvdmVuZG9ycy9hc2hsZXkucG5nIiBzdHlsZT0icGFkZGluZzogMHB4IDBweCAzcHg7IiAvPjwvYT4NCjxhIGhyZWY9Ii9tLTEtd29vZGhhdmVuLmFzcHgiIHN0eWxlPSJwYWRkaW5nOiAwcHg7Ij48aW1nIHdpZHRoPSI2MCIgYWx0PSJXb29kaGF2ZW4iIHNyYz0iL2ltYWdlcy92ZW5kb3JzL3dvb2RoYXZlbi5wbmciIHN0eWxlPSJwYWRkaW5nOiAwcHggMHB4IDRweDsiIC8+PC9hPmQCDQ9kFggCAQ8WAh8ABfQCVGhlIE5vcm1hbCBQYXltZW50IGluY2x1ZGVzIHRoZSBBYXJvbuKAmXMgU2VydmljZSBQbHVzIEZlZSBkaXNjbG9zZWQgYWJvdmUuIFRoaXMgQWFyb27igJlzIFNlcnZpY2UgUGx1cyBGZWUgZW50aXRsZXMgeW91IHRvIHJlY2VpdmUgYWxsIG9mIHRoZSBiZW5lZml0cyBwcm92aWRlZCBieSB0aGUgQWFyb27igJlzIFNlcnZpY2UgUGx1cyBwcm9ncmFtIGFzIGxvbmcgYXMgeW91IGFyZSBjdXJyZW50IGluIG1ha2luZyB5b3VyIE5vcm1hbCBQYXltZW50cy4gU2VlICBodHRwOi8vd3d3LmFhcm9ucy5jb20vdC1TZXJ2aWNlLVBsdXMuYXNweCBhbmQgeW91ciBsb2NhbCBzdG9yZSBmb3IgZGV0YWlscywgYXMgdGhlIHByb2dyYW0gY2FuIHZhcnkgYnkgc3RhdGUuZAIDDxYCHwAFLlRheGVzIGFuZCBhcHBsaWNhYmxlIGZlZXMgY2FsY3VsYXRlZCBhdCBzdG9yZS5kAgUPFgIfAAVBR3JvdXAgcHJpY2luZyBtYXkgdmFyeSBiYXNlZCBvbiBhdmFpbGFiaWxpdHkgb2YgaW5kaXZpZHVhbCBpdGVtcy5kAgcPFgIfAAXoB1RoaXMgUXVvdGUgZG9lcyBub3QgY29uc3RpdHV0ZSBhIGxlYXNlIGFncmVlbWVudCBvciBhIHJlY2VpcHQgb2YgcHVyY2hhc2UuIFlvdSBtdXN0IHByb3ZpZGUgcXVhbGlmeWluZyBpbmZvcm1hdGlvbiB0byBsZWFzZSB0aGUgbWVyY2hhbmRpc2UgYW5kIGNvbXBsZXRlIGFuIGFwcHJvdmFsIHByb2Nlc3MsIHdoaWNoIGluY2x1ZGVzIGJ1dCBpcyBub3QgbGltaXRlZCB0byBjb21wbGV0aW5nIGEgTGVhc2UgT3JkZXIgRm9ybSBhbmQgcHJvdmlkaW5nIGEgdmVyaWZpZWQgc291cmNlIG9mIGluY29tZSwgcmVzaWRlbmNlLCBhbmQgdGhyZWUgcmVmZXJlbmNlcy4gUHJpb3IgdG8gcmVjZWlwdCBvZiB0aGUgbWVyY2hhbmRpc2UsIGFjY2VwdGVkIGFwcGxpY2FudHMgbXVzdCBzaWduIGEgTGVhc2UgQWdyZWVtZW50IGFuZCBvdGhlciBkb2N1bWVudGF0aW9uLCB3aGljaCBjb250YWluIGFkZGl0aW9uYWwgdGVybXMuICBUaGUgdHJhbnNhY3Rpb24gYWR2ZXJ0aXNlZCBpcyBmb3IgYSByZW50YWwgcHVyY2hhc2UgYWdyZWVtZW50LCBsZWFzZSBwdXJjaGFzZSBhZ3JlZW1lbnQsIHJlbnQgdG8gb3duIGFncmVlbWVudCwgY29uc3VtZXIgcmVudGFsIHB1cmNoYXNlIGFncmVlbWVudCwgbGVhc2UgYWdyZWVtZW50IHdpdGggYW4gb3B0aW9uIHRvIHB1cmNoYXNlIG9yIGxlYXNlIHdoZXJlIGFwcGxpY2FibGUuIE93bmVyc2hpcCBvZiBsZWFzZWQgbWVyY2hhbmRpc2UgaXMgbm90IGFjcXVpcmVkIHVudGlsIHlvdSBwYXkgdGhlIFRvdGFsIENvc3Qgb2YgT3duZXJzaGlwIGZvciBUZXJtIG9yIHlvdSBleGVyY2lzZSBhbiBlYXJseSBwdXJjaGFzZSBvcHRpb24uIE93bmVyc2hpcCBpcyBvcHRpb25hbC4gVGhlIFF1b3RlIGlzIHZhbGlkIHRocm91Z2ggdGhlIGVuZCBvZiB0aGUgY3VycmVudCBtb250aCBvciBzaG9ydGVyIHBlcmlvZCBzcGVjaWZpZWQgZm9yIHNwZWNpYWwgcHJvbW90aW9uYWwgb2ZmZXJzLiBOb3QgYWxsIHNlcnZpY2VzIGFuZCBiZW5lZml0cyBhdmFpbGFibGUgaW5kAg4PZBYCAgIPFgIfAwIGFgxmD2QWAgIBDxYCHwMCBRYKAgEPZBYCAgEPDxYEHwUFEy9jLTEtZnVybml0dXJlLmFzcHgfAAUJRnVybml0dXJlFgIfBmVkAgIPZBYCAgEPDxYEHwUFFS9jLTItZWxlY3Ryb25pY3MuYXNweB8ABQtFbGVjdHJvbmljcxYCHwZlZAIDD2QWAgIBDw8WBB8FBRUvYy0xNC1hcHBsaWFuY2VzLmFzcHgfAAUKQXBwbGlhbmNlcxYCHwZlZAIED2QWAgIBDw8WBB8FBQ0vdC1hYm91dC5hc3B4HwAFDE91ciBTZXJ2aWNlcxYCHwZlZAIFD2QWAgIBDw8WBB8FBRIvc3RvcmVzaXRlbWFwLmFzcHgfAAUPU3RvcmVzIGJ5IFN0YXRlFgIfBmVkAgEPZBYCAgEPFgIfAwIEFggCAQ9kFgICAQ8PFgQfBQUSL3QtbGVhc2UtcGx1cy5hc3B4HwAFEUFhcm9uJ3MgTGVhc2VQbHVzFgIfBmVkAgIPZBYCAgEPDxYEHwUFFC90LXNlcnZpY2UtcGx1cy5hc3B4HwAFE0Fhcm9uJ3MgU2VydmljZVBsdXMWAh8GZWQCAw9kFgICAQ8PFgQfBQUUL3QtbmV3cy1jb250YWN0LmFzcHgfAAUMTmV3cyBDb250YWN0FgIfBmVkAgQPZBYCAgEPDxYEHwUFGmh0dHA6Ly9pbnZlc3Rvci5hYXJvbnMuY29tHwAFEkludmVzdG9yIFJlbGF0aW9ucxYEHwgFBl9ibGFuax8GBThwYWdlVHJhY2tlci5fdHJhY2tQYWdldmlldygnL291dGdvaW5nL2Zvb3Rlci9pbnZlc3RvcicpO2QCAg9kFgICAQ8WAh8DAgUWCgIBD2QWAgIBDw8WBB8FBRYvdC1wcm90ZWN0aW9ucGxhbi5hc3B4HwAFD1Byb3RlY3Rpb24gUGxhbhYCHwZlZAICD2QWAgIBDw8WBB8FBQgvY29udGFjdB8ABQpDb250YWN0IFVzFgIfBmVkAgMPZBYCAgEPDxYEHwUFG2h0dHBzOi8vYWNjb3VudC5hYXJvbnMuY29tLx8ABQpQYXkgT25saW5lFgIfBgUzcGFnZVRyYWNrZXIuX3RyYWNrUGFnZXZpZXcoJy9vdXRnb2luZy9mb290ZXIvdmlwJyk7ZAIED2QWAgIBDw8WBB8FBRdodHRwOi8vam9icy5hYXJvbnMuY29tLx8ABQdDYXJlZXJzFgIfBgU3cGFnZVRyYWNrZXIuX3RyYWNrUGFnZXZpZXcoJy9vdXRnb2luZy9mb290ZXIvY2FyZWVycycpO2QCBQ9kFgICAQ8PFgQfBQURL3QtZW1haWxsaXN0LmFzcHgfAAUNRW1haWwgU2lnbiBVcBYCHwZlZAIDD2QWAgIBDxYCHwMCBRYKAgEPZBYCAgEPDxYEHwUFEy90LW91ci1wcm9taXNlLmFzcHgfAAULT3VyIFByb21pc2UWAh8GZWQCAg9kFgICAQ8PFgQfBQUPL3QtcHJpdmFjeS5hc3B4HwAFDlByaXZhY3kgUG9saWN5FgIfBmVkAgMPZBYCAgEPDxYEHwUFFy90LXByaXZhY3kuYXNweCNPcHRpb25zHwAFDUFib3V0IE91ciBBZHMWAh8GZWQCBA9kFgICAQ8PFgQfBQUNL3QtdGVybXMuYXNweB8ABRBUZXJtcyBvZiBTZXJ2aWNlFgIfBmVkAgUPZBYCAgEPDxYEHwUFCC9zaXRlbWFwHwAFCFNpdGUgTWFwFgIfBmVkAgQPZBYCAgEPFgIfAwIDFgYCAQ9kFgICAQ8PFgQfBQUbaHR0cDovL2ludmVzdG9yLmFhcm9ucy5jb20vHwAFDEFhcm9uJ3MgSW5jLhYCHwYFOXBhZ2VUcmFja2VyLl90cmFja1BhZ2V2aWV3KCcvb3V0Z29pbmcvZm9vdGVyL2Fhcm9uc2luYycpO2QCAg9kFgICAQ8PFgQfBQUcaHR0cDovL2ZyYW5jaGlzZS5hYXJvbnMuY29tLx8ABRNBYXJvbidzIEZyYW5jaGlzaW5nFgIfBgU5cGFnZVRyYWNrZXIuX3RyYWNrUGFnZXZpZXcoJy9vdXRnb2luZy9mb290ZXIvZnJhbmNoaXNlJyk7ZAIDD2QWAgIBDw8WBB8FBSUvdC1hYXJvbnMtc3RhbmRhcmQtZm9yLXN1cHBsaWVycy5hc3B4HwAFHENhbGlmb3JuaWEgU3VwcGx5IENoYWlucyBBY3QWAh8GZWQCBQ9kFgICAQ8WAh8DAgIWBAIBD2QWAgIBDw8WBB8FBRxodHRwOi8vd3d3LmFhcm9uc3Nwb3J0cy5jb20vHwAFDkFhcm9uJ3MgU3BvcnRzFgIfBgU2cGFnZVRyYWNrZXIuX3RyYWNrUGFnZXZpZXcoJy9vdXRnb2luZy9mb290ZXIvc3BvcnRzJyk7ZAICD2QWAgIBDw8WBB8FBR5odHRwOi8vd3d3Lm1pY2hhZWx3YWx0cmlwLmNvbS8fAAUWTWljaGFlbCBXYWx0cmlwIFJhY2luZxYCHwYFPnBhZ2VUcmFja2VyLl90cmFja1BhZ2V2aWV3KCcvb3V0Z29pbmcvZm9vdGVyL21pY2hhZWx3YWx0cmlwJyk7ZAIPD2QWCAIBDw9kFgIfAgUJYWFyb25zaW5jZAIDDw9kFgIfAgUJYWFyb25zaW5jZAIFDw9kFgIfAgUadS8wLzEwNzk3NDAwNTU0Mzk0OTgyMTc2My9kAgcPD2QWAh8CBQlhYXJvbnNpbmNkAhAPZBYCZg8WAh8ABZQjPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iLy9hc3NldHMucGludGVyZXN0LmNvbS9qcy9waW5pdC5qcyI+PC9zY3JpcHQ+DQo8ZGl2IHN0eWxlPSJoZWlnaHQ6IDFweDsgd2lkdGg6IDEwMCU7IiBjbGFzcz0ic3VjY2VzczIiPjwvZGl2Pg0KPGltZyBhbHQ9IiIgd2lkdGg9IjEiIGhlaWdodD0iMSIgc3JjPSIvL21wcC5zcGVjaWZpY2NsaWNrLm5ldC8/bndrPTQmYW1wO3k9MiZhbXA7dD1pJmFtcDt0cD0xJmFtcDtjbGlkPTI0NzAmYW1wO3BpeGlkPTk5MDcxNzkzJmFtcDtybmQ9IiBzdHlsZT0iYm9yZGVyLXdpZHRoOiAwcHg7IGJvcmRlci1zdHlsZTogc29saWQ7IiAvPg0KPGltZyBhbHQ9IiIgd2lkdGg9IjEiIGhlaWdodD0iMSIgc3JjPSJodHRwczovL3NlY3VyZS5hZG54cy5jb20vc2VnP2FkZD04NDAxNjImYW1wO3Q9MiIgLz4NCjxub3NjcmlwdD4NCjxkaXYgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjxpbWcgc3JjPSIvL3BpeGVsLnF1YW50c2VydmUuY29tL3BpeGVsL3AtZDdlYUxMVjYwYVRNSy5naWYiIGJvcmRlcj0iMCIgaGVpZ2h0PSIxIiB3aWR0aD0iMSIgYWx0PSJRdWFudGNhc3QiLz48L2Rpdj4NCjwvbm9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQogICAgZnVuY3Rpb24gdHJhY2tUd2l0dGVyKGludGVudF9ldmVudCkgew0KICAgICAgICBpZiAoaW50ZW50X2V2ZW50KSB7DQogICAgICAgICAgICB2YXIgb3B0X3BhZ2VQYXRoOw0KICAgICAgICAgICAgaWYgKGludGVudF9ldmVudC50YXJnZXQgJiYgaW50ZW50X2V2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSAnSUZSQU1FJykgew0KICAgICAgICAgICAgICAgIG9wdF90YXJnZXQgPSBleHRyYWN0UGFyYW1Gcm9tVXJpKGludGVudF9ldmVudC50YXJnZXQuc3JjLCAndXJsJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnYSgnc2VuZCcsICdzb2NpYWwnLCAndHdpdHRlcicsICd0d2VldCcsIG9wdF9wYWdlUGF0aCk7DQogICAgICAgICAgICBfZ2FxLnB1c2goWydfdHJhY2tTb2NpYWwnLCAndHdpdHRlcicsICd0d2VldCcsIG9wdF9wYWdlUGF0aF0pOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIGV4dHJhY3RQYXJhbUZyb21VcmkodXJpLCBwYXJhbU5hbWUpIHsNCiAgICAgICAgaWYgKCF1cmkpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdbXFw/JiNdJyArIHBhcmFtTmFtZSArICc9KFteJiNdKiknKTsNCiAgICAgICAgdmFyIHBhcmFtcyA9IHJlZ2V4LmV4ZWModXJpKTsNCiAgICAgICAgaWYgKHBhcmFtcyAhPSBudWxsKSB7DQogICAgICAgICAgICByZXR1cm4gdW5lc2NhcGUocGFyYW1zWzFdKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIHZhciBmYmlmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7DQogICAgZmJpZi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2ZiaWYnKTsNCiAgICB2YXIgZmJzcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly8nIDogJ2h0dHA6Ly8nKSArICdwaXhlbC5mZXRjaGJhY2suY29tL3NlcnZlL2ZiL3Bkaj9jYXQ9Jm5hbWU9bGFuZGluZyZzaWQ9Mzk5OCc7DQogICAgZmJpZi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGZic3JjKTsNCiAgICBmYmlmLnNldEF0dHJpYnV0ZSgnc2Nyb2xsaW5nJywgJ25vJyk7DQogICAgZmJpZi5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzEnKTsNCiAgICBmYmlmLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgJzEnKTsNCiAgICBmYmlmLnNldEF0dHJpYnV0ZSgnbWFyZ2luaGVpZ2h0JywgJzAnKTsNCiAgICBmYmlmLnNldEF0dHJpYnV0ZSgnbWFyZ2lud2lkdGgnLCAnMCcpOw0KICAgIGZiaWYuc2V0QXR0cmlidXRlKCdmcmFtZWJvcmRlcicsICcwJyk7DQogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmYmlmKTsNCiAgICB2YXIgX3FldmVudHMgPSBfcWV2ZW50cyB8fCBbXTsNCiAgICAoZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOw0KICAgICAgICBlbGVtLnNyYyA9IChkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA9PSAiaHR0cHM6IiA/ICJodHRwczovL3NlY3VyZSIgOiAiaHR0cDovL2VkZ2UiKSArICIucXVhbnRzZXJ2ZS5jb20vcXVhbnQuanMiOw0KICAgICAgICBlbGVtLmFzeW5jID0gdHJ1ZTsNCiAgICAgICAgZWxlbS50eXBlID0gInRleHQvamF2YXNjcmlwdCI7DQogICAgICAgIHZhciBzY3B0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOw0KICAgICAgICBzY3B0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW0sIHNjcHQpOw0KICAgIH0pKCk7DQogICAgX3FldmVudHMucHVzaCh7cWFjY3Q6ICJwLWQ3ZWFMTFY2MGFUTUsifSk7DQogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7DQogICAgICAgIHZhciBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOw0KICAgICAgICBhLnNyYyA9IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sICsgIi8vZG5uNTA2eXJiYWdyZy5jbG91ZGZyb250Lm5ldC9wYWdlcy9zY3JpcHRzLzAwMTIvODAxMi5qcz8iICsgTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDM2MDAwMDApOw0KICAgICAgICBhLmFzeW5jID0gdHJ1ZTsgYS50eXBlID0gInRleHQvamF2YXNjcmlwdCI7IGIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSwgYikNCiAgICB9LCAxKTsNCiAgICAkKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgJCgnYVtocmVmPSIvdC1BYXJvbnMtU3RhbmRhcmQtZm9yLVN1cHBsaWVycy5hc3B4Il0nKS5hdHRyKCJocmVmIiwgIi9pbWFnZXMvY29kZS1vZi1idXNpbmVzcy1jb25kdWN0LWFuZC1ldGhpY3MtMi4yNS4xNC5wZGYiKS5hdHRyKCJ0YXJnZXQiLCAiX2JsYW5rIik7DQogICAgICAgIC8vZmlsbExlZ2FsRGl2KCJnbG9iYWxmb290ZXIiLCAiY29weXdyaXRlRGl2SW5uZXIiKTsNCiAgICAgICAgJCgnLnBpbi1pdC1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBnYSgnc2VuZCcsICdzb2NpYWwnLCAnUGludGVyZXN0JywgJ1BpbicpOw0KICAgICAgICAgICAgX2dhcS5wdXNoKFsnX3RyYWNrU29jaWFsJywgJ1BpbnRlcmVzdCcsICdQaW4nXSk7DQogICAgICAgIH0pOw0KICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJlc3Bhbm9sLmFhcm9ucy5jb20iKSA+IC0xKSB7DQogICAgICAgICAgICAkKCIuaGVhZGVyRGl2ICNoZWFkZXJEaXZfbGVmdCBhLnRyYW5zbGF0ZUltYWdlIGltZyIpLmF0dHIoJ3NyYycsJy8vd3d3LmFhcm9ucy5jb20vaW1hZ2VzL2VzcGFub2xfaGVhZGVyX2J1dHRvbi5wbmcnKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KPC9zY3JpcHQ+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KICAgIC5pZTkgLmhlYWRlckRpdiAjaGVhZGVyRGl2X3JpZ2h0IHsNCiAgICBtYXgtd2lkdGg6IDYyMHB4ICFpbXBvcnRhbnQ7DQogICAgfQ0KICAgIC5pZTkgLmhlYWRlckRpdiAjaGVhZGVyRGl2X3JpZ2h0ICNoZWFkZXJEaXZfcmlnaHRfdG9wIGEubXlBY2NvdW50TGluayB7DQogICAgbWFyZ2luOiAwIDIwcHggMCAwICFpbXBvcnRhbnQ7DQogICAgfQ0KICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMjRweCkgew0KICAgICNsb2NhdGlvbkZpbmRlclBvcFVwSW5uZXIgew0KICAgIG1pbi1oZWlnaHQ6IDIxNXB4ICFpbXBvcnRhbnQ7DQogICAgaGVpZ2h0OiAyMTVweCAhaW1wb3J0YW50Ow0KICAgIH0NCiAgICAjbG9jYXRpb25GaW5kZXJQb3BVcElubmVyICNsb2NhdGlvbkZpbmRlclB1cFVwSGVhZGVyICNsb2NhdGlvbkZpbmRlclB1cFVwSGVhZGVySW5uZXIgew0KICAgIHBhZGRpbmc6IDIwcHg7DQogICAgfQ0KICAgICNsb2NhdGlvbkZpbmRlclBvcFVwSW5uZXIgI2xvY2F0aW9uRmluZGVyUG9wVXBJbmZvIHsNCiAgICBwYWRkaW5nOiAxMHB4IDEwcHggMzBweCAxMHB4Ow0KICAgIH0NCiAgICAjbG9jYXRpb25GaW5kZXJQb3BVcCAjbG9jYXRpb25GaW5kZXJQb3BVcElubmVyICNsb2NhdGlvbkZpbmRlclBvcFVwSW5mbyBhI2xvY2F0aW9uRmluZGVyUG9wVXBDaGFuZ2VMb2NhdGlvbkJ1dHRvbiB7DQogICAgd2lkdGg6IDQ1cHg7DQogICAgbWFyZ2luOiA4cHggMjVweCAyMHB4IDA7DQogICAgfQ0KICAgIC5yaWdodENvbERpdiA+IGgxIHsNCiAgICBwYWRkaW5nOiAwIDAgMCAyMHB4Ow0KICAgIH0NCiAgICAubW9iaWxlTWVudUNvbnRhaW5lciB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI0RCREJEQjsNCiAgICB9DQogICAgLm1vYmlsZU1lbnVDb250YWluZXIgbGksIC5tb2JpbGVTZWFyY2gsIGEubW9iaWxlQmFjayB7DQogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNGRkY7DQogICAgfQ0KICAgIH0NCjwvc3R5bGU+ZAIRD2QWAmYPFgIfAAWrAjxkaXYgaWQ9Im15c2NyaXB0Ij48L2Rpdj4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPihmdW5jdGlvbigpIHt2YXIgbXlzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtteXNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7bXlzY3JpcHQuc3JjID0gKCcvL2ZyLnNob3BhYXJvbnMuY2EvbXBlbC9tcGVsLmpzJyk7dmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlzY3JpcHQnKTtzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG15c2NyaXB0LCBzKTt9KSgpPC9zY3JpcHQ+ZGTxsLWS90Xs9nx2Dy0C2F94us1+lw==",
						"__VIEWSTATEGENERATOR":"E3BA0392",
						"__EVENTVALIDATION":"/wEWHgKBrNeHBAL+rdD5CwLuy6SVDwKczcKOBAL15rXvDQKR77fOAgL8/9m/DQLLhKTDCALKuZneCgLct8fTCgLhuOaaCQLguNqaCQLduOaaCQLcuOaaCQLcuP6aCQLcuJ6aCQLcuJqaCQLcuJKaCQLfuPaaCQLOuNKaCQLRuNqaCQLTuPqaCQLJuJ6aCQKA89LEDQKq2tTrDwKOsa34DwLF+cqiCwKRksXJDwK559iKAgLyn+QkiPRm/Rhy3FJaXz41j+uuUFjG2mI=",
						"ctl00$ctl22$SearchTerm":"Search Keyword or Item #",
						"ctl00$ctl23$SearchTermiPad":"Search",
						"ctl00$PageContent$txtSearchZip":"",
						"ctl00$PageContent$SelectState":"AB",
						"ctl00$PageContent$htxtState":"AB"
					}
					yield FormRequest(url=url, formdata=form_data, callback=self.parse_stores)
				except:
					pdb.set_trace()
					pass
		def parse_stores(self, response):
			self.count += len(response.xpath('//a[@class="StoreLocLink"]/@href').extract())
			print "----------------------------------------------------------"
			print self.count
			print "----------------------------------------------------------"
			for store_url in response.xpath('//a[@class="StoreLocLink"]/@href').extract():
				try:
					url = self.domain + store_url
					yield scrapy.Request(url=url, callback=self.parse_store)
				except:
					pdb.set_trace()
					pass
		def parse_store(self, response):
			try:
				item = ChainItem()
				item['store_number'] = ""
				item['store_name'] = self.validate(response.xpath('//h2[@itemprop="name"]/text()'))
				item['address'] = self.validate(response.xpath('//span[@itemprop="street-address"]/text()'))
				item['address2'] = ""
				item['city'] = self.validate(response.xpath('//span[@itemprop="locality"]/text()'))
				item['state'] = self.validate(response.xpath('//span[@itemprop="region"]/text()'))
				item['zip_code'] = self.validate(response.xpath('//span[@itemprop="postal-code"]/text()'))
				item['country'] = "Canada" 
				item['phone_number'] = self.validate(response.xpath('//span[@itemprop="tel"]/text()'))
				hours = response.xpath('//div[@class="weekdaystable"]/div')
				item['store_hours'] = ""
				for hour in hours:
					data = hour.xpath('./text()').extract()
					data = [a.strip() for a in data if a.strip() != ""]
					item['store_hours'] += hour.xpath('./span/text()').extract_first() + ":" + "".join(data) + ";"
				item['latitude'] = self.validate(response.xpath('//input[@id="ctl00_PageContent_GoogleMaplat"]/@value'))
				item['longitude'] = self.validate(response.xpath('//input[@id="ctl00_PageContent_GoogleMaplng"]/@value'))
				#item['store_type'] = info_json["@type"]
				item['coming_soon'] = 0
				item['other_fields'] = ""
				yield item	
			except:
				pdb.set_trace()
				pass
		def validate(self, xpath):
			try:
				return xpath.extract_first().strip()
			except:
				return ""
